{% extends 'base.html' %} 
{% block content %}
{% load static %}



<div class="container">
    <h1>{{ post.title }}</h1>
    <p><small>By {{ post.author }} on {{ post.created_on }}</small></p>
    <div>
        
    </div>
    <div class="content">
        {{ post.content|safe }}
    </div>
    <div class="d-flex justify-content-center"> 
        {% if post.song_url and 'soundcloud.com' in post.song_url %}
        <div class="embed-responsive embed-responsive-8by12 my-4">
            <iframe class="embed-responsive-item" 
                    src="https://w.soundcloud.com/player/?url={{ post.song_url }}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" 
                    frameborder="yes" 
                    scrolling="no" 
                    allow="autoplay">
            </iframe>
        </div>
        {% endif %}
        {% if post.song_url and 'spotify.com' in post.song_url %}
        {% with post.song_url|slice:"-22:" as spotify_track_id %}
        <div class="embed-responsive embed-responsive-1by1 my-4">
            <iframe class="embed-responsive-item" 
                    src="https://open.spotify.com/embed/track/{{ spotify_track_id }}" 
                    width="300" 
                    height="380" 
                    frameborder="0" 
                    allowtransparency="true" 
                    allow="encrypted-media">
            </iframe>
        </div>
        {% endwith %}
        {% endif %}
    </div>
    <div class="d-flex justify-content-center"> 
        <a class="btn btn-outline-secondary" href="{% url 'home' %}">Back to Home</a>
    </div>
</div>

{% endblock content %}